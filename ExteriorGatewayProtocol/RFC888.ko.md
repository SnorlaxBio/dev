Exterior Gateway Protocol
=========================

이 문서에서는 스텁 게이트웨이를 핵심 게이트웨이의 자율 시스템에 연결하는 데 사용되는 외부 게이트웨이 프로토콜에 대해 설명합니다. 이 문서는 작업 프로토콜을 지정하고 ARPA 공식 프로토콜을 정의합니다. 모든 게이트웨이 구현자는 이 문서를 주의 깊게 검토해야 합니다.

## 1. INTRODUCTION

DARPA Catenet은 점점 더 많은 네트워크에서 점점 더 많은 호스트가 참여하면서 지속적으로 확장되는 시스템이 될 것으로 예상됩니다. 물론 이를 위해서는 점점 더 많은 게이트웨이가 필요합니다. 과거에는 이러한 확장이 상대적으로 구조화되지 않은 방식으로 이루어졌습니다. 기존 게이트웨이와 근본적으로 다른 소프트웨어를 포함하는 경우가 많은 새로운 게이트웨이가 추가되고 즉시 GGP 프로토콜을 통해 공통 라우팅 알고리즘에 참여하기 시작합니다. 그러나 인터넷이 점점 더 커지면서 이러한 간단한 확장 방법의 실현 가능성은 점점 더 낮아지고 있습니다. 여기에는 여러 가지 이유가 있습니다.

- 라우팅 알고리즘의 오버헤드가 지나치게 커짐
- 단일 공통 라우팅 알고리즘에 참여하는 근본적으로 다른 게이트웨이의 확산으로 인해 인터넷을 통합 통신 시스템으로 간주하는 것이 불가능해지기 때문에 유지 관리 및 오류 격리가 거의 불가능해집니다.
- 게이트웨이 소프트웨어 및 알고리즘, 특히 라우팅 알고리즘은 제안된 변경 사항이 너무 많은 다른 장소에서 너무 많은 사람들에 의해 이루어져야 하기 때문에 너무 경직되고 유연하지 않게 됩니다.

미래에 인터넷은 일련의 별도 섹션 또는 "자율 시스템"으로 발전할 것으로 예상되며, 각 섹션은 하나 이상의 상대적으로 동질적인 게이트웨이 세트로 구성됩니다. 프로토콜, 특히 이러한 게이트웨이가 서로 사용하는 라우팅 알고리즘은 비공개이며 특정 섹션이나 시스템 외부의 게이트웨이에서 구현될 필요가 없습니다.

가장 간단한 경우 자율 시스템은 예를 들어 로컬 네트워크를 ARPANET에 연결하는 단일 게이트웨이로 구성될 수 있습니다. 이러한 게이트웨이는 "스텁 게이트웨이"라고 부를 수 있습니다. 유일한 목적은 로컬 네트워크를 나머지 인터넷과 인터페이스하는 것이고, 해당 게이트웨이에서 시작되거나 예정되지 않은 트래픽을 처리하는 데 사용되지 않기 때문입니다. 특정 로컬 네트워크. 가까운 장래에 우리는 인터넷을 자율 시스템의 집합으로 생각하기 시작할 것입니다. 그 중 하나는 ARPANET 및 SATNET의 DARPA 게이트웨이로 구성되고 다른 하나는 로컬 네트워크에 대한 스텁 게이트웨이입니다. 우리가 "핵심" 시스템이라고 부르는 전자 시스템은 후자 시스템에 의해 전송 또는 "장거리" 시스템으로 사용됩니다.

궁극적으로 인터넷은 다수의 동등한 자율 시스템으로 구성될 수 있으며, 그 중 하나는 모든 시스템에서 발생하고 모든 시스템으로 향하는 트래픽의 전송 매체로 사용될 수 있습니다. 이 보다 일반적인 사례는 여전히 연구 주제입니다. 이 문서에서는 EGP(Exterior Gateway Protocol)를 사용하여 스텁 게이트웨이가 코어 시스템에 연결하는 방법만 설명합니다.

## 2. DEFINITIONS AND OVERVIEW

이 백서의 목적에 따라 "스텁 게이트웨이"는 다음과 같이 정의됩니다.

- 코어 게이트웨이가 아닙니다.
- 하나 이상의 코어 게이트웨이와 네트워크를 공유합니다(일부 코어 게이트웨이와 동일한 네트워크에 인터페이스가 있음)
- 코어 게이트웨이가 없는 하나 이상의 네트워크에 대한 인터페이스가 있습니다.
- 스텁을 통해 코어 시스템에 도달할 수 있는 다른 모든 네트에는 스텁을 통하는 것 외에는 코어 시스템에 대한 다른 경로가 없습니다.

스텁 게이트웨이는 ICMP(Internet Control Message Protocol)와 EGP 프로토콜을 완전히 실행할 것으로 예상됩니다. 특히 ICMP 에코 요청에 응답해야 하며 적절하게 ICMP 대상 데드 메시지를 보내야 합니다. 또한 적절하게 ICMP 리디렉션 메시지를 보내야 합니다.

자율 시스템에는 16비트 식별 번호가 할당되며(현재 네트워크 및 프로토콜 번호가 할당되는 것과 거의 동일한 방식) 모든 EGP 메시지 헤더에는 이 번호에 대한 필드가 포함됩니다. 0은 자율 시스템에 할당되지 않습니다. 자율 시스템 번호로 0을 사용하는 것은 향후 사용을 위해 예약되어 있습니다.

각각 인터페이스가 있는 네트워크가 있는 경우 두 게이트웨이를 "이웃"이라고 부릅니다. 두 이웃이 동일한 자율 시스템의 일부인 경우 이를 내부 이웃이라고 부릅니다. 예를 들어, 동일한 네트워크에 있는 두 개의 핵심 게이트웨이는 서로 내부 이웃입니다. 두 이웃이 동일한 자율 시스템의 일부가 아닌 경우 이를 외부 이웃이라고 부릅니다. 예를 들어, 스텁 게이트웨이와 네트워크를 공유하는 모든 코어 게이트웨이는 서로 외부 이웃입니다. 한 시스템이 다른 시스템을 전송 매체로 사용하려면 서로 외부 이웃인 게이트웨이가 다른 시스템을 통해 어떤 네트워크에 연결할 수 있는지 확인할 수 있어야 합니다. 외부 게이트웨이 프로토콜을 사용하면 이 정보가 외부 이웃 간에 전달될 수 있습니다. 이는 폴링 프로토콜이므로 각 게이트웨이가 네트워크 연결 가능성 정보를 보내고 받는 속도를 제어할 수 있으므로 각 시스템이 자체 오버헤드를 제어할 수 있습니다. 또한 이를 통해 각 시스템은 다른 시스템의 장애로 인해 작동이 중단될 수 없는 독립적인 라우팅 알고리즘을 가질 수 있습니다.

외부 게이트웨이 프로토콜은 세 부분으로 구성됩니다.

- 이웃 획득 프로토콜
- 이웃 도달 프로토콜
- 네트워크 도달성 결정.

EGP에서 정의한 모든 메시지는 단일 "홉"으로만 이동하도록 되어 있습니다. 즉, 하나의 게이트웨이에서 시작되어 중간 게이트웨이의 중재 없이 인접 게이트웨이로 전송됩니다. 따라서 TTL(Time-To-Live) 필드는 매우 작은 값으로 설정되어야 합니다. 메시지 스트림에서 주소가 지정되지 않은 EGP 메시지를 발견한 게이트웨이는 해당 메시지를 삭제할 수 있습니다.

각 EGP 메시지에는 시퀀스 번호가 포함되어 있습니다. 게이트웨이는 이웃당 하나의 시퀀스 번호를 유지해야 합니다.